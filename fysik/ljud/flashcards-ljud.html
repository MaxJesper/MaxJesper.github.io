<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Akustik – Flashcards (Åk 8)</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#121a33;
      --card2:#0f1730;
      --text:#eaf0ff;
      --muted:#aeb8d6;
      --border:rgba(255,255,255,.12);
      --shadow: 0 18px 40px rgba(0,0,0,.35);
      --accent:#8bd3ff;
      --accent2:#b7ffa1;
      --warn:#ffd18b;
      --btn:#1a2550;
      --btn2:#233069;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 20% -10%, rgba(139,211,255,.18), transparent 65%),
                  radial-gradient(900px 600px at 90% 10%, rgba(183,255,161,.10), transparent 60%),
                  var(--bg);
      color:var(--text);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    header{
      position:sticky; top:0;
      background: rgba(11,16,32,.75);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      z-index: 10;
    }
    .topbar{
      max-width: 980px;
      margin: 0 auto;
      padding: 14px 16px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 240px;
    }
    .logo{
      width:38px;height:38px;
      border-radius: 12px;
      background: linear-gradient(145deg, rgba(139,211,255,.26), rgba(183,255,161,.18));
      border: 1px solid var(--border);
      box-shadow: 0 8px 18px rgba(0,0,0,.25);
      display:grid;place-items:center;
      font-weight:800;
      color: var(--text);
    }
    h1{
      margin:0;
      font-size: 16px;
      line-height:1.2;
    }
    .sub{
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
    }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:flex-end;
    }
    button{
      appearance:none;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--btn), var(--btn2));
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      box-shadow: 0 10px 22px rgba(0,0,0,.22);
      font-weight: 650;
      font-size: 13px;
    }
    button:hover{ filter: brightness(1.08); }
    button:active{ transform: translateY(1px); }
    button.secondary{
      background: rgba(255,255,255,.06);
    }
    button.ghost{
      background: transparent;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      font-size: 12px;
      white-space:nowrap;
    }

    main{
      flex:1;
      max-width: 980px;
      width:100%;
      margin: 0 auto;
      padding: 22px 16px 40px;
      display:grid;
      gap:16px;
    }

    .layout{
      display:grid;
      grid-template-columns: 1fr;
      gap:16px;
    }

    .card{
      background: linear-gradient(180deg, rgba(18,26,51,.92), rgba(15,23,48,.92));
      border: 1px solid var(--border);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .flash{
      padding: 18px;
      border-radius: 22px;
      border: 1px solid var(--border);
      background:
        radial-gradient(900px 500px at 0% 0%, rgba(139,211,255,.10), transparent 60%),
        radial-gradient(700px 450px at 100% 0%, rgba(183,255,161,.07), transparent 55%),
        linear-gradient(180deg, rgba(18,26,51,.95), rgba(15,23,48,.95));
      box-shadow: var(--shadow);
      min-height: 260px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:14px;
    }

    .kicker{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:flex-start;
      color: var(--muted);
      font-size: 12px;
    }
    .kicker strong{ color: var(--text); font-weight: 750; }

    .front{
      font-size: 22px;
      line-height: 1.25;
      font-weight: 800;
      letter-spacing: .2px;
      margin-top: 6px;
    }

    .back{
      display:none;
      margin-top: 8px;
      border-top: 1px dashed rgba(255,255,255,.18);
      padding-top: 12px;
      gap:10px;
    }
    .back.show{ display:grid; }

    .section{
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      padding: 12px 12px;
      background: rgba(255,255,255,.04);
    }
    .label{
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .dot{
      width:8px;height:8px;border-radius:99px;
      background: var(--accent);
      display:inline-block;
      box-shadow: 0 0 0 4px rgba(139,211,255,.08);
    }
    .dot.green{
      background: var(--accent2);
      box-shadow: 0 0 0 4px rgba(183,255,161,.08);
    }
    .dot.warn{
      background: var(--warn);
      box-shadow: 0 0 0 4px rgba(255,209,139,.08);
    }
    .text{
      font-size: 15px;
      line-height: 1.45;
      color: var(--text);
    }
    .answer{
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      font-size: 14px;
    }

    .controls{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
      margin-top: 6px;
    }
    .controls .left, .controls .right{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .hint{
      font-size: 12px;
      color: var(--muted);
      margin-top: 12px;
      line-height: 1.4;
    }
    .kbd{
      padding: 2px 8px;
      border: 1px solid rgba(255,255,255,.18);
      border-bottom-width: 2px;
      border-radius: 10px;
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight: 700;
      font-size: 12px;
      display:inline-block;
    }

    footer{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 16px 30px;
      color: var(--muted);
      font-size: 12px;
    }
    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    @media (min-width: 840px){
      .layout{
        grid-template-columns: 1fr 0.6fr;
        align-items:start;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="topbar">
    <div class="brand">
      <div class="logo">λ</div>
      <div>
        <h1>Akustik – Flashcards</h1>
        <div class="sub">Åk 8 • begrepp + mini-problem</div>
      </div>
    </div>

    <div class="actions">
      <span class="pill" id="progressPill">Kort 1 / 1</span>
      <button class="secondary" id="toggleBtn">Visa svar</button>
      <button id="prevBtn">← Föregående</button>
      <button id="nextBtn">Nästa →</button>
      <button class="ghost" id="shuffleBtn" title="Blanda kort (S)">Blanda</button>
    </div>
  </div>
</header>

<main>
  <div class="layout">
    <section class="flash" id="flash">
      <div class="kicker">
        <div><strong id="cardTitle">Kort</strong> <span id="cardIndex"></span></div>
        <div id="cardTag">Akustik</div>
      </div>

      <div class="front" id="frontText">...</div>

      <div class="back" id="backBox">
        <div class="section">
          <div class="label"><span class="dot"></span> Definition</div>
          <div class="text" id="defText"></div>
        </div>

        <div class="section">
          <div class="label"><span class="dot green"></span> Mini-problem</div>
          <div class="text" id="miniText"></div>
          <div class="answer" id="answerText" style="display:none;"></div>
        </div>
      </div>

      <div class="controls">
        <div class="left">
          <button class="secondary" id="showAnswerBtn">Visa facit</button>
          <button class="secondary" id="hideAnswerBtn" style="display:none;">Dölj facit</button>
        </div>
        <div class="right">
          <span class="pill" id="modePill">Svar: av</span>
        </div>
      </div>

      <div class="hint">
        Tangenter: <span class="kbd">←</span>/<span class="kbd">→</span> byte kort •
        <span class="kbd">mellanslag</span> visa/dölj svar •
        <span class="kbd">S</span> blanda •
        <span class="kbd">A</span> visa facit
      </div>
    </section>

    <aside class="card">
      <h2 style="margin:0 0 10px; font-size:16px;">Lärarläge (snabbt)</h2>
      <div style="color:var(--muted); font-size:13px; line-height:1.5;">
        <ul style="margin:10px 0 0; padding-left:18px;">
          <li>Starta med <b>Visa svar</b> av, så eleverna tvingas återkalla.</li>
          <li>Låt dem svara muntligt på mini-problemet innan <b>Visa facit</b>.</li>
          <li>Tryck <b>Blanda</b> mellan omgångar.</li>
        </ul>
        <hr style="border:0;border-top:1px solid var(--border);margin:14px 0;">
        <div>
          Vill du lägga till fler kapitel? Skapa fler mappar som:
          <div style="margin-top:8px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size:12px; color:var(--text);">
            /fysik/ljud/<br/>
            /fysik/optik/<br/>
            /fysik/elektricitet/
          </div>
        </div>
      </div>
    </aside>
  </div>
</main>

<footer>
  Byggd för GitHub Pages. Öppna: <a href="./">/fysik/ljud/</a>
</footer>

<script>
  // ====== DATA: Flashcards (begrepp + mini-problem) ======
  const cards = [
    {
      term: "Ljud",
      front: "Vad är ljud?",
      def: "Ljud är svängningar som sprids som tryckvågor genom materia, t.ex. luft eller vatten.",
      mini: "Kan ljud spridas i rymden? Varför / varför inte?",
      answer: "Nej. Ljud behöver ett medium (materia). I vakuum finns inga partiklar som kan överföra tryckvågen."
    },
    {
      term: "Tryckvåg",
      front: "Vad är en tryckvåg?",
      def: "En våg där partiklar packas ihop (förtätning) och glesas ut (förtunning) och sprider sig framåt.",
      mini: "Är ljudvågor i luft längsgående eller tvärgående?",
      answer: "Längsgående (trycket varierar i samma riktning som vågen färdas)."
    },
    {
      term: "Medium",
      front: "Vad menas med medium (i akustik)?",
      def: "Det material som ljudet färdas genom, t.ex. luft, vatten eller metall.",
      mini: "Nämn två medier där ljud kan spridas.",
      answer: "Till exempel luft och vatten (även metall fungerar)."
    },
    {
      term: "Ljudets fart",
      front: "Vad menas med ljudets fart?",
      def: "Hur snabbt ljudet sprids genom ett medium.",
      mini: "Går ljud snabbast i luft eller metall? Varför?",
      answer: "Metall. Partiklarna ligger tätare och kan överföra vibrationer snabbare."
    },
    {
      term: "Ljudets fart i luft",
      front: "Hur snabbt går ljud i luft?",
      def: "Cirka 340 m/s (ungefär).",
      mini: "Hur långt hinner ljudet på 2 sekunder i luft?",
      answer: "340 m/s × 2 s = 680 m."
    },
    {
      term: "Trumhinna",
      front: "Vad gör trumhinnan när ljud kommer?",
      def: "Den börjar svänga när ljudvågor träffar den. Svängningarna förs vidare i hörseln.",
      mini: "Svänger trumhinnan med samma eller annan frekvens än ljudet?",
      answer: "Samma frekvens som ljudet."
    },
    {
      term: "Våg",
      front: "Vad är en våg (i fysik)?",
      def: "Ett sätt att beskriva hur en svängning/energi sprids genom ett medium (eller ibland i fält).",
      mini: "Är det luften (partiklarna) eller vågen som färdas framåt?",
      answer: "Vågen/energin färdas framåt. Partiklarna svänger mest fram och tillbaka runt sitt läge."
    },
    {
      term: "Våglängd (λ)",
      front: "Vad är våglängd?",
      def: "Avståndet mellan två likadana punkter i en våg, t.ex. mellan två förtätningar.",
      mini: "Hög ton → lång eller kort våglängd (i samma medium)?",
      answer: "Kort våglängd (hög frekvens ger kortare våglängd i samma medium)."
    },
    {
      term: "Frekvens",
      front: "Vad är frekvens?",
      def: "Antal svängningar (vågor) per sekund. Bestämmer hur hög eller låg tonen är.",
      mini: "10 vågor på 1 sekund → vilken frekvens?",
      answer: "10 Hz."
    },
    {
      term: "Hertz (Hz)",
      front: "Vad betyder hertz (Hz)?",
      def: "Enheten för frekvens. 1 Hz = 1 svängning per sekund.",
      mini: "5 Hz betyder vad?",
      answer: "5 svängningar per sekund."
    },
    {
      term: "Hög ton (diskant)",
      front: "Vad menas med hög ton?",
      def: "Ljud med hög frekvens. Uppfattas som ljusa/pipiga toner.",
      mini: "Är en vissling oftast hög eller låg ton?",
      answer: "Hög ton."
    },
    {
      term: "Låg ton (bas)",
      front: "Vad menas med låg ton?",
      def: "Ljud med låg frekvens. Uppfattas som mörka/mullrande toner.",
      mini: "Är åska oftast hög eller låg ton?",
      answer: "Låg ton."
    },
    {
      term: "Amplitud",
      front: "Vad är amplitud?",
      def: "Hur kraftig svängningen är (i en våg är det \"höjden\" från mittenlinjen).",
      mini: "Stor amplitud → starkt eller svagt ljud?",
      answer: "Starkt ljud."
    },
    {
      term: "Ljudstyrka",
      front: "Vad är ljudstyrka?",
      def: "Hur starkt ett ljud är. Hänger ihop med amplituden i tryckvågen.",
      mini: "Två ljud har samma frekvens men olika amplitud. Vilket låter starkast?",
      answer: "Det med större amplitud."
    },
    {
      term: "Decibel (dB)",
      front: "Vad mäts i decibel (dB)?",
      def: "Ljudstyrka (ljudnivå).",
      mini: "Vilket är starkast: 30 dB eller 40 dB?",
      answer: "40 dB."
    },
    {
      term: "Decibelskalan",
      front: "Hur fungerar decibelskalan (enkelt)?",
      def: "0 dB är ungefär svagaste hörbara ljudet. +10 dB upplevs ungefär som dubbelt så starkt.",
      mini: "20 dB → 30 dB. Hur upplevs ljudet?",
      answer: "Ungefär dubbelt så starkt."
    },
    {
      term: "Grundton",
      front: "Vad är grundton?",
      def: "Den lägsta frekvensen i ett ljud – ofta den ton vi uppfattar som \"själva\" tonen.",
      mini: "Är grundtonen den lägsta eller högsta frekvensen i ljudet?",
      answer: "Lägsta."
    },
    {
      term: "Övertoner",
      front: "Vad är övertoner?",
      def: "Högre frekvenser som finns tillsammans med grundtonen. De är ofta multipler av grundtonen (2f, 3f, 4f...).",
      mini: "Grundton 100 Hz → första övertonen?",
      answer: "200 Hz (2 × 100 Hz)."
    },
    {
      term: "Klangfärg",
      front: "Vad är klangfärg?",
      def: "Det som gör att samma ton låter olika på olika instrument. Beror på vilka övertoner som finns och deras styrka.",
      mini: "Varför låter en fiol och en flöjt olika när de spelar samma grundton?",
      answer: "De har olika övertoner/övertonsstyrkor → olika klangfärg."
    },
    {
      term: "Oktav",
      front: "Vad är en oktav?",
      def: "När frekvensen fördubblas (eller halveras) – då hör vi ett steg på en oktav.",
      mini: "220 Hz → en oktav upp?",
      answer: "440 Hz."
    },
    {
      term: "Resonans (medsvängning)",
      front: "Vad är resonans?",
      def: "När något börjar svänga med samma frekvens som en annan källa och då ofta förstärker ljudet.",
      mini: "Varför låter en fiol starkare än en ensam sträng?",
      answer: "Strängen får fiolens lock att resonera (större yta → mer ljud)."
    },
    {
      term: "Dopplereffekten",
      front: "Vad är dopplereffekten?",
      def: "Frekvensen upplevs högre när ljudkällan närmar sig och lägre när den avlägsnar sig.",
      mini: "Ambulans närmar sig → högre eller lägre frekvens? Varför?",
      answer: "Högre frekvens. Vågtopparna \"trycks ihop\" när källan rör sig mot dig."
    },
    {
      term: "Infraljud",
      front: "Vad är infraljud?",
      def: "Ljud med frekvens under 20 Hz. Människan hör det inte.",
      mini: "Kan människor höra infraljud?",
      answer: "Nej (under 20 Hz)."
    },
    {
      term: "Ultraljud",
      front: "Vad är ultraljud?",
      def: "Ljud med frekvens över 20 000 Hz. Människan hör det inte.",
      mini: "Nämn ett användningsområde för ultraljud.",
      answer: "T.ex. fosterundersökning i vården (ultraljudsundersökning)."
    },
    {
      term: "Eko",
      front: "Vad är eko?",
      def: "När ljud studsar mot en hård yta och kommer tillbaka.",
      mini: "Varför hörs eko tydligare i en tunnel än i ett vardagsrum?",
      answer: "Tunneln har hårda ytor som reflekterar ljud bättre. Ett rum har ofta mjukare material som dämpar."
    },
    {
      term: "Ekolod",
      front: "Vad är ekolod?",
      def: "Teknik som använder eko för att mäta avstånd (t.ex. djup eller hitta fisk).",
      mini: "Ett eko kommer tillbaka efter 2 s i luft. Hur långt bort är väggen? (340 m/s)",
      answer: "Ljudet går dit och tillbaka: 340×2/2 = 340 m."
    },
    {
      term: "Buller",
      front: "Vad är buller?",
      def: "Oregelbundna, “stökiga” svängningar utan tydligt mönster. Ofta tröttande/stressande.",
      mini: "Varför kan buller kännas mer stressigt än musik?",
      answer: "Hjärnan hittar inget stabilt mönster → mer belastning/stress."
    },
    {
      term: "Tinnitus",
      front: "Vad är tinnitus?",
      def: "En hörselskada som gör att man hör pip/sus/ringning fast inget ljud finns.",
      mini: "Orsak: svagt eller starkt ljud?",
      answer: "Starkt ljud (skadar hörselorganen)."
    },
    {
      term: "Bullerbekämpning",
      front: "Vad är bullerbekämpning?",
      def: "Åtgärder för att minska störande/skadligt ljud (dämpa, skärma av, skydda hörseln).",
      mini: "Ge två exempel på bullerbekämpning.",
      answer: "Hörselkåpor/proppar, bullerplank, ljudabsorberande tak/väggar, bättre motorunderhåll m.m."
    }
  ];

  // ====== APP STATE ======
  let order = cards.map((_, i) => i);
  let idx = 0;
  let showBack = false;
  let showAnswer = false;

  // ====== DOM ======
  const progressPill = document.getElementById("progressPill");
  const modePill = document.getElementById("modePill");

  const cardTitle = document.getElementById("cardTitle");
  const cardIndex = document.getElementById("cardIndex");
  const frontText = document.getElementById("frontText");
  const defText = document.getElementById("defText");
  const miniText = document.getElementById("miniText");
  const answerText = document.getElementById("answerText");

  const backBox = document.getElementById("backBox");

  const toggleBtn = document.getElementById("toggleBtn");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const shuffleBtn = document.getElementById("shuffleBtn");
  const showAnswerBtn = document.getElementById("showAnswerBtn");
  const hideAnswerBtn = document.getElementById("hideAnswerBtn");

  function render(){
    const card = cards[order[idx]];

    cardTitle.textContent = card.term;
    cardIndex.textContent = `• kort ${idx+1}`;
    frontText.textContent = card.front;

    defText.textContent = card.def;
    miniText.textContent = card.mini;

    answerText.textContent = `Svar: ${card.answer}`;

    progressPill.textContent = `Kort ${idx+1} / ${order.length}`;
    modePill.textContent = `Svar: ${showBack ? "på" : "av"}`;

    // back
    backBox.classList.toggle("show", showBack);

    // answer
    answerText.style.display = (showBack && showAnswer) ? "block" : "none";
    showAnswerBtn.style.display = (showBack && !showAnswer) ? "inline-block" : "none";
    hideAnswerBtn.style.display = (showBack && showAnswer) ? "inline-block" : "none";

    toggleBtn.textContent = showBack ? "Dölj svar" : "Visa svar";
  }

  function next(){
    idx = (idx + 1) % order.length;
    showAnswer = false;
    render();
  }
  function prev(){
    idx = (idx - 1 + order.length) % order.length;
    showAnswer = false;
    render();
  }
  function toggleBack(){
    showBack = !showBack;
    showAnswer = false;
    render();
  }
  function shuffle(){
    // Fisher–Yates
    for(let i=order.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [order[i], order[j]] = [order[j], order[i]];
    }
    idx = 0;
    showBack = false;
    showAnswer = false;
    render();
  }
  function showFacit(){
    if(!showBack) showBack = true;
    showAnswer = true;
    render();
  }
  function hideFacit(){
    showAnswer = false;
    render();
  }

  // ====== EVENTS ======
  toggleBtn.addEventListener("click", toggleBack);
  nextBtn.addEventListener("click", next);
  prevBtn.addEventListener("click", prev);
  shuffleBtn.addEventListener("click", shuffle);
  showAnswerBtn.addEventListener("click", showFacit);
  hideAnswerBtn.addEventListener("click", hideFacit);

  // Keyboard shortcuts
  window.addEventListener("keydown", (e) => {
    const key = e.key.toLowerCase();
    if(e.key === "ArrowRight"){ next(); }
    else if(e.key === "ArrowLeft"){ prev(); }
    else if(e.key === " "){ e.preventDefault(); toggleBack(); }
    else if(key === "s"){ shuffle(); }
    else if(key === "a"){ showFacit(); }
  });

  // Initial
  render();
</script>
</body>
</html>
