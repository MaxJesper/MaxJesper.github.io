<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ljud ‚Äì Flashcards (Akustik)</title>

  <link rel="stylesheet" href="/css/style.css">

  <style>
    body.flashcards-page{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:#0b1020;
      color:#eaf0ff;
      min-height:100vh;
    }

    .fc-wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 16px 24px;
      display:grid;
      gap:16px;
    }

    .fc-toprow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }

    .fc-pill{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.05);
      font-size:12px;
      color:rgba(234,240,255,.75);
      white-space:nowrap;
    }

    .fc-actions{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .fc-btn{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:#eaf0ff;
      padding:10px 12px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      user-select:none;
    }
    .fc-btn:hover{ filter: brightness(1.08); }
    .fc-btn:active{ transform: translateY(1px); }

    .fc-btn.primary{
      background:linear-gradient(180deg,#1a2550,#233069);
    }

    /* ‚Äúp√•‚Äù-markering f√∂r panelknappar */
    .fc-btn.on{
      outline: 2px solid rgba(139,211,255,.35);
      background: rgba(139,211,255,.10);
    }
    .fc-btn.on.green{
      outline: 2px solid rgba(183,255,161,.30);
      background: rgba(183,255,161,.08);
    }
    .fc-btn.on.warn{
      outline: 2px solid rgba(255,209,139,.28);
      background: rgba(255,209,139,.08);
    }

    .fc-layout{
      display:grid;
      grid-template-columns: 1fr 0.6fr;
      gap:16px;
      align-items:start;
    }

    .fc-card{
      border:1px solid rgba(255,255,255,.12);
      border-radius:22px;
      background:linear-gradient(180deg, rgba(18,26,51,.95), rgba(15,23,48,.95));
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
      padding:18px;
    }

    .fc-kicker{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:flex-start;
      color: rgba(234,240,255,.75);
      font-size: 12px;
    }

    .fc-front{
      font-size:22px;
      font-weight:800;
      margin-top:10px;
      line-height:1.25;
    }

    .fc-toggleRow{
      display:flex;
      gap:10px;
      margin-top:14px;
      flex-wrap:wrap;
    }

    .fc-panels{
      margin-top:14px;
      border-top: 1px dashed rgba(255,255,255,.18);
      padding-top: 14px;
      display:grid;
      gap:12px;
    }

    .fc-panel{
      display:none;
      border-radius:16px;
      padding:14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
    }
    .fc-panel.show{ display:block; }

    .fc-panel.def{
      border-color: rgba(139,211,255,.25);
      background:
        radial-gradient(800px 300px at 0% 0%, rgba(139,211,255,.14), transparent 60%),
        rgba(255,255,255,.04);
    }
    .fc-panel.mini{
      border-color: rgba(183,255,161,.22);
      background:
        radial-gradient(700px 260px at 100% 0%, rgba(183,255,161,.10), transparent 55%),
        rgba(255,255,255,.035);
    }
    .fc-panel.facit{
      border-color: rgba(255,209,139,.22);
      background: rgba(0,0,0,.18);
    }

    .fc-label{
      font-size: 12px;
      color: rgba(234,240,255,.75);
      margin-bottom: 8px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .fc-dot{
      width:8px;height:8px;border-radius:99px;
      background:#8bd3ff;
      box-shadow: 0 0 0 4px rgba(139,211,255,.10);
      display:inline-block;
    }
    .fc-dot.green{
      background:#b7ffa1;
      box-shadow: 0 0 0 4px rgba(183,255,161,.10);
    }
    .fc-dot.warn{
      background:#ffd18b;
      box-shadow: 0 0 0 4px rgba(255,209,139,.10);
    }

    .fc-text{ font-size:16px; line-height:1.5; font-weight:650; }
    .fc-miniText{ font-size:15px; line-height:1.45; font-weight:550; }
    .fc-facitText{ font-size:14px; line-height:1.45; font-weight:600; }

    .fc-footerhint{
      position:sticky;
      bottom:0;
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(11,16,32,.85);
      font-size:12px;
      color:rgba(234,240,255,.75);
      z-index: 5;
    }
    .fc-kbd{
      padding: 2px 8px;
      border: 1px solid rgba(255,255,255,.18);
      border-bottom-width: 2px;
      border-radius: 10px;
      background: rgba(255,255,255,.05);
      color: #eaf0ff;
      font-weight: 700;
      font-size: 12px;
      display:inline-block;
    }

    /* ============================
       üì± MOBIL & PADDA: d√∂lj aside + footer
       ============================ */
    @media (hover: none) {
      .fc-footerhint{ display:none; }
      aside.fc-card{ display:none; }
      .fc-layout{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body class="flashcards-page">
<header class="fysik-header">
  <h1>Ljud ‚Äì Flashcards</h1>
  <p>Jesper Tordsson</p>
</header>

<button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
<nav id="side-menu"></nav>

<main class="fc-wrap">
  <div class="fc-toprow">
    <span class="fc-pill" id="progressPill">Kort 1 / 1</span>

    <div class="fc-actions">
      <a class="subject-btn" href="./index.html">‚Üê Tillbaka</a>
      <button class="fc-btn" id="shuffleBtn" title="B">Blanda</button>
      <button class="fc-btn" id="prevBtn" title="‚Üê">‚Üê</button>
      <button class="fc-btn primary" id="nextBtn" title="‚Üí">‚Üí</button>
    </div>
  </div>

  <div class="fc-layout">
    <section class="fc-card" id="swipeArea">
      <div class="fc-kicker">
        <div><strong id="cardTitle">Kort</strong> <span id="cardIndex"></span></div>
        <div>Akustik</div>
      </div>

      <div class="fc-front" id="frontText"></div>

      <div class="fc-toggleRow">
        <button class="fc-btn" id="btnDef">Svar</button>
        <button class="fc-btn" id="btnMini">Miniproblem</button>
        <button class="fc-btn" id="btnFacit">Facit</button>
      </div>

      <div class="fc-panels">
        <div class="fc-panel def" id="panelDef">
          <div class="fc-label"><span class="fc-dot"></span> Definition</div>
          <div class="fc-text" id="defText"></div>
        </div>

        <div class="fc-panel mini" id="panelMini">
          <div class="fc-label"><span class="fc-dot green"></span> Miniproblem</div>
          <div class="fc-miniText" id="miniText"></div>
        </div>

        <div class="fc-panel facit" id="panelFacit">
          <div class="fc-label"><span class="fc-dot warn"></span> Facit</div>
          <div class="fc-facitText" id="answerText"></div>
        </div>
      </div>
    </section>

    <!-- VISAS ENDAST P√Ö DATOR (d√∂ljs p√• mobil/padda via CSS ovan) -->
    <aside class="fc-card">
      <h2 style="margin:0 0 10px; font-size:16px;">Mellanslag cyklar steg</h2>
      <ol style="margin:10px 0 0; padding-left:18px; color: rgba(234,240,255,.75); line-height:1.55;">
        <li>Fr√•ga</li>
        <li>Svar (definition)</li>
        <li>Miniproblem</li>
        <li>Facit</li>
        <li>Tillbaka till Fr√•ga</li>
      </ol>
      <p style="margin-top:12px; color: rgba(234,240,255,.75);">Tangentbordet r√§cker.</p>
    </aside>
  </div>

  <!-- VISAS ENDAST P√Ö DATOR (d√∂ljs p√• mobil/padda via CSS ovan) -->
  <div class="fc-footerhint">
    <span class="fc-kbd">mellanslag</span> n√§sta steg ‚Ä¢
    <span class="fc-kbd">‚Üê</span>/<span class="fc-kbd">‚Üí</span> byt kort ‚Ä¢
    <span class="fc-kbd">B</span> blanda
  </div>
</main>

<script src="/js/menu.js"></script>
<script>
  const cards = [
    { term:"Ljud", front:"Vad √§r ljud?",
      def:"Ljud √§r sv√§ngningar som sprids som tryckv√•gor genom materia, t.ex. luft eller vatten.",
      mini:"Kan ljud spridas i rymden? Varf√∂r / varf√∂r inte?",
      answer:"Nej. Ljud beh√∂ver ett medium (materia). I vakuum finns inga partiklar som kan √∂verf√∂ra tryckv√•gen."
    },
    { term:"Tryckv√•g", front:"Vad √§r en tryckv√•g?",
      def:"En v√•g d√§r partiklar packas ihop (f√∂rt√§tning) och glesas ut (f√∂rtunning) och sprider sig fram√•t.",
      mini:"√Ñr ljudv√•gor i luft l√§ngsg√•ende eller tv√§rg√•ende?",
      answer:"L√§ngsg√•ende (trycket varierar i samma riktning som v√•gen f√§rdas)."
    },
    { term:"Medium", front:"Vad menas med medium (i akustik)?",
      def:"Det material som ljudet f√§rdas genom, t.ex. luft, vatten eller metall.",
      mini:"N√§mn tv√• medier d√§r ljud kan spridas.",
      answer:"Till exempel luft och vatten (√§ven metall fungerar)."
    },
    { term:"Ljudets fart", front:"Vad menas med ljudets fart?",
      def:"Hur snabbt ljudet sprids genom ett medium.",
      mini:"G√•r ljud snabbast i luft eller metall? Varf√∂r?",
      answer:"Metall. Partiklarna ligger t√§tare och kan √∂verf√∂ra vibrationer snabbare."
    },
    { term:"Ljudets fart i luft", front:"Hur snabbt g√•r ljud i luft?",
      def:"Cirka 340 m/s (ungef√§r).",
      mini:"Hur l√•ngt hinner ljudet p√• 2 sekunder i luft?",
      answer:"340 m/s √ó 2 s = 680 m."
    },
    { term:"Trumhinna", front:"Vad g√∂r trumhinnan n√§r ljud kommer?",
      def:"Den b√∂rjar sv√§nga n√§r ljudv√•gor tr√§ffar den. Sv√§ngningarna f√∂rs vidare i h√∂rseln.",
      mini:"Sv√§nger trumhinnan med samma eller annan frekvens √§n ljudet?",
      answer:"Samma frekvens som ljudet."
    },
    { term:"V√•g", front:"Vad √§r en v√•g (i fysik)?",
      def:"Ett s√§tt att beskriva hur en sv√§ngning/energi sprids genom ett medium (eller ibland i f√§lt).",
      mini:"√Ñr det luften (partiklarna) eller v√•gen som f√§rdas fram√•t?",
      answer:"V√•gen/energin f√§rdas fram√•t. Partiklarna sv√§nger mest fram och tillbaka runt sitt l√§ge."
    },
    { term:"V√•gl√§ngd (Œª)", front:"Vad √§r v√•gl√§ngd?",
      def:"Avst√•ndet mellan tv√• likadana punkter i en v√•g, t.ex. mellan tv√• f√∂rt√§tningar.",
      mini:"H√∂g ton ‚Üí l√•ng eller kort v√•gl√§ngd (i samma medium)?",
      answer:"Kort v√•gl√§ngd (h√∂g frekvens ger kortare v√•gl√§ngd i samma medium)."
    },
    { term:"Frekvens", front:"Vad √§r frekvens?",
      def:"Antal sv√§ngningar (v√•gor) per sekund. Best√§mmer hur h√∂g eller l√•g tonen √§r.",
      mini:"10 v√•gor p√• 1 sekund ‚Üí vilken frekvens?",
      answer:"10 Hz."
    },
    { term:"Hertz (Hz)", front:"Vad betyder hertz (Hz)?",
      def:"Enheten f√∂r frekvens. 1 Hz = 1 sv√§ngning per sekund.",
      mini:"5 Hz betyder vad?",
      answer:"5 sv√§ngningar per sekund."
    },
    { term:"H√∂g ton (diskant)", front:"Vad menas med h√∂g ton?",
      def:"Ljud med h√∂g frekvens. Uppfattas som ljusa/pipiga toner.",
      mini:"√Ñr en vissling oftast h√∂g eller l√•g ton?",
      answer:"H√∂g ton."
    },
    { term:"L√•g ton (bas)", front:"Vad menas med l√•g ton?",
      def:"Ljud med l√•g frekvens. Uppfattas som m√∂rka/mullrande toner.",
      mini:"√Ñr √•ska oftast h√∂g eller l√•g ton?",
      answer:"L√•g ton."
    },
    { term:"Amplitud", front:"Vad √§r amplitud?",
      def:"Hur kraftig sv√§ngningen √§r (i en v√•g √§r det \"h√∂jden\" fr√•n mittenlinjen).",
      mini:"Stor amplitud ‚Üí starkt eller svagt ljud?",
      answer:"Starkt ljud."
    },
    { term:"Ljudstyrka", front:"Vad √§r ljudstyrka?",
      def:"Hur starkt ett ljud √§r. H√§nger ihop med amplituden i tryckv√•gen.",
      mini:"Tv√• ljud har samma frekvens men olika amplitud. Vilket l√•ter starkast?",
      answer:"Det med st√∂rre amplitud."
    },
    { term:"Decibel (dB)", front:"Vad m√§ts i decibel (dB)?",
      def:"Ljudstyrka (ljudniv√•).",
      mini:"Vilket √§r starkast: 30 dB eller 40 dB?",
      answer:"40 dB."
    },
    { term:"Decibelskalan", front:"Hur fungerar decibelskalan (enkelt)?",
      def:"0 dB √§r ungef√§r svagaste h√∂rbara ljudet. +10 dB upplevs ungef√§r som dubbelt s√• starkt.",
      mini:"20 dB ‚Üí 30 dB. Hur upplevs ljudet?",
      answer:"Ungef√§r dubbelt s√• starkt."
    },
    { term:"Grundton", front:"Vad √§r grundton?",
      def:"Den l√§gsta frekvensen i ett ljud ‚Äì ofta den ton vi uppfattar som \"sj√§lva\" tonen.",
      mini:"√Ñr grundtonen den l√§gsta eller h√∂gsta frekvensen i ljudet?",
      answer:"L√§gsta."
    },
    { term:"√ñvertoner", front:"Vad √§r √∂vertoner?",
      def:"H√∂gre frekvenser som finns tillsammans med grundtonen. De √§r ofta multipler av grundtonen (2f, 3f, 4f...).",
      mini:"Grundton 100 Hz ‚Üí f√∂rsta √∂vertonen?",
      answer:"200 Hz (2 √ó 100 Hz)."
    },
    { term:"Klangf√§rg", front:"Vad √§r klangf√§rg?",
      def:"Det som g√∂r att samma ton l√•ter olika p√• olika instrument. Beror p√• vilka √∂vertoner som finns och deras styrka.",
      mini:"Varf√∂r l√•ter en fiol och en fl√∂jt olika n√§r de spelar samma grundton?",
      answer:"De har olika √∂vertoner/√∂vertonsstyrkor ‚Üí olika klangf√§rg."
    },
    { term:"Oktav", front:"Vad √§r en oktav?",
      def:"N√§r frekvensen f√∂rdubblas (eller halveras) ‚Äì d√• h√∂r vi ett steg p√• en oktav.",
      mini:"220 Hz ‚Üí en oktav upp?",
      answer:"440 Hz."
    },
    { term:"Resonans (medsv√§ngning)", front:"Vad √§r resonans?",
      def:"N√§r n√•got b√∂rjar sv√§nga med samma frekvens som en annan k√§lla och d√• ofta f√∂rst√§rker ljudet.",
      mini:"Varf√∂r l√•ter en fiol starkare √§n en ensam str√§ng?",
      answer:"Str√§ngen f√•r fiolens lock att resonera (st√∂rre yta ‚Üí mer ljud)."
    },
    { term:"Dopplereffekten", front:"Vad √§r dopplereffekten?",
      def:"Frekvensen upplevs h√∂gre n√§r ljudk√§llan n√§rmar sig och l√§gre n√§r den avl√§gsnar sig.",
      mini:"Ambulans n√§rmar sig ‚Üí h√∂gre eller l√§gre frekvens? Varf√∂r?",
      answer:"H√∂gre frekvens. V√•gtopparna \"trycks ihop\" n√§r k√§llan r√∂r sig mot dig."
    },
    { term:"Infraljud", front:"Vad √§r infraljud?",
      def:"Ljud med frekvens under 20 Hz. M√§nniskan h√∂r det inte.",
      mini:"Kan m√§nniskor h√∂ra infraljud?",
      answer:"Nej (under 20 Hz)."
    },
    { term:"Ultraljud", front:"Vad √§r ultraljud?",
      def:"Ljud med frekvens √∂ver 20 000 Hz. M√§nniskan h√∂r det inte.",
      mini:"N√§mn ett anv√§ndningsomr√•de f√∂r ultraljud.",
      answer:"T.ex. fosterunders√∂kning i v√•rden (ultraljudsunders√∂kning)."
    },
    { term:"Eko", front:"Vad √§r eko?",
      def:"N√§r ljud studsar mot en h√•rd yta och kommer tillbaka.",
      mini:"Varf√∂r h√∂rs eko tydligare i en tunnel √§n i ett vardagsrum?",
      answer:"Tunneln har h√•rda ytor som reflekterar ljud b√§ttre. Ett rum har ofta mjukare material som d√§mpar."
    },
    { term:"Ekolod", front:"Vad √§r ekolod?",
      def:"Teknik som anv√§nder eko f√∂r att m√§ta avst√•nd (t.ex. djup eller hitta fisk).",
      mini:"Ett eko kommer tillbaka efter 2 s i luft. Hur l√•ngt bort √§r v√§ggen? (340 m/s)",
      answer:"Ljudet g√•r dit och tillbaka: 340√ó2/2 = 340 m."
    },
    { term:"Buller", front:"Vad √§r buller?",
      def:"Oregelbundna, ‚Äúst√∂kiga‚Äù sv√§ngningar utan tydligt m√∂nster. Ofta tr√∂ttande/stressande.",
      mini:"Varf√∂r kan buller k√§nnas mer stressigt √§n musik?",
      answer:"Hj√§rnan hittar inget stabilt m√∂nster ‚Üí mer belastning/stress."
    },
    { term:"Tinnitus", front:"Vad √§r tinnitus?",
      def:"En h√∂rselskada som g√∂r att man h√∂r pip/sus/ringning fast inget ljud finns.",
      mini:"Orsak: svagt eller starkt ljud?",
      answer:"Starkt ljud (skadar h√∂rselorganen)."
    },
    { term:"Bullerbek√§mpning", front:"Vad √§r bullerbek√§mpning?",
      def:"√Ötg√§rder f√∂r att minska st√∂rande/skadligt ljud (d√§mpa, sk√§rma av, skydda h√∂rseln).",
      mini:"Ge tv√• exempel p√• bullerbek√§mpning.",
      answer:"H√∂rselk√•por/proppar, bullerplank, ljudabsorberande tak/v√§ggar, b√§ttre motorunderh√•ll m.m."
    }
  ];

  let order = cards.map((_, i) => i);
  let idx = 0;
  let step = 0; // 0 fr√•ga, 1 def, 2 mini, 3 facit

  const progressPill = document.getElementById("progressPill");
  const cardTitle = document.getElementById("cardTitle");
  const cardIndex = document.getElementById("cardIndex");
  const frontText = document.getElementById("frontText");
  const defText = document.getElementById("defText");
  const miniText = document.getElementById("miniText");
  const answerText = document.getElementById("answerText");

  const panelDef = document.getElementById("panelDef");
  const panelMini = document.getElementById("panelMini");
  const panelFacit = document.getElementById("panelFacit");

  const btnDef = document.getElementById("btnDef");
  const btnMini = document.getElementById("btnMini");
  const btnFacit = document.getElementById("btnFacit");

  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const shuffleBtn = document.getElementById("shuffleBtn");

  function applyStep(){
    const showDef = (step >= 1);
    const showMini = (step >= 2);
    const showFacit = (step >= 3);

    panelDef.classList.toggle("show", showDef);
    panelMini.classList.toggle("show", showMini);
    panelFacit.classList.toggle("show", showFacit);

    btnDef.classList.toggle("on", showDef);
    btnMini.classList.toggle("on", showMini);
    btnFacit.classList.toggle("on", showFacit);

    btnMini.classList.toggle("green", showMini);
    btnFacit.classList.toggle("warn", showFacit);
  }

  function render(){
    const c = cards[order[idx]];
    cardTitle.textContent = c.term;
    cardIndex.textContent = `‚Ä¢ kort ${idx+1}`;
    frontText.textContent = c.front;
    defText.textContent = c.def;
    miniText.textContent = c.mini;
    answerText.textContent = c.answer;

    progressPill.textContent = `Kort ${idx+1} / ${order.length}`;
    applyStep();
  }

  function resetStep(){ step = 0; }

  function next(){
    idx = (idx + 1) % order.length;
    resetStep();
    render();
  }

  function prev(){
    idx = (idx - 1 + order.length) % order.length;
    resetStep();
    render();
  }

  function shuffle(){
    for(let i = order.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [order[i], order[j]] = [order[j], order[i]];
    }
    idx = 0;
    resetStep();
    render();
  }

  function cycleStep(){
    step = (step + 1) % 4;
    applyStep();
  }

  // Klick: samma logik som tidigare (ren, enkel)
  btnDef.addEventListener("click", () => {
    step = (step === 0) ? 1 : 0;
    applyStep();
  });
  btnMini.addEventListener("click", () => {
    if(step < 1) step = 1;
    step = (step < 2) ? 2 : 1;
    applyStep();
  });
  btnFacit.addEventListener("click", () => {
    if(step < 2) step = 2;
    step = (step < 3) ? 3 : 2;
    applyStep();
  });

  nextBtn.addEventListener("click", next);
  prevBtn.addEventListener("click", prev);
  shuffleBtn.addEventListener("click", shuffle);

  // Keyboard (dator)
  window.addEventListener("keydown", (e) => {
    if(e.key === " "){
      e.preventDefault();
      cycleStep();
    } else if(e.key === "ArrowRight"){
      next();
    } else if(e.key === "ArrowLeft"){
      prev();
    } else if(e.key.toLowerCase() === "b"){
      shuffle();
    }
  });

  // Swipe (mobil/padda) ‚Äì byter kort. Knapparna √§r kvar.
  (function enableSwipe(){
    const el = document.getElementById("swipeArea");
    if(!el) return;

    let startX = 0, startY = 0, startT = 0;
    const thresholdX = 50;       // px
    const thresholdY = 60;       // px (om man scrollar)
    const maxTime = 800;         // ms

    el.addEventListener("touchstart", (e) => {
      if(!e.touches || e.touches.length !== 1) return;
      const t = e.touches[0];
      startX = t.clientX;
      startY = t.clientY;
      startT = Date.now();
    }, { passive: true });

    el.addEventListener("touchend", (e) => {
      const dt = Date.now() - startT;
      if(dt > maxTime) return;

      const touch = (e.changedTouches && e.changedTouches[0]) ? e.changedTouches[0] : null;
      if(!touch) return;

      const dx = touch.clientX - startX;
      const dy = touch.clientY - startY;

      // Om det mest √§r scroll: ignorera
      if(Math.abs(dy) > thresholdY && Math.abs(dy) > Math.abs(dx)) return;

      if(Math.abs(dx) >= thresholdX && Math.abs(dx) > Math.abs(dy) * 1.2){
        if(dx < 0) next();  // swipe v√§nster
        else prev();        // swipe h√∂ger
      }
    }, { passive: true });
  })();

  render();
</script>
</body>
</html>
